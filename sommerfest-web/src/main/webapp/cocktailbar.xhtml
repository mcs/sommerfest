<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<h:body>
    <ui:composition template="./template.xhtml">
        <ui:define name="content">
            <h2>#{bundle.cocktailbar}</h2>

            <form ng-controller="CocktailbarController">
                <fieldset>
                    <legend>Angeforderte Positionen</legend>
                    <table class="table table-bordered">
                        <thead>
                        <tr>
                            <th>Artikel</th>
                            <th>#{bundle.amount}</th>
                            <th>Bestellzeit</th>
                            <th>Status</th>
                            <th>Aktion</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="order in orders">
                            <td ng-bind="order.product.name"/>
                            <td>
                                {{order.amount}}
                            </td>
                            <td ng-bind="order.createdOn | date: 'mediumTime'"/>
                            <td ng-bind="order.state"/>
                            <td>
                                <button class="btn btn-primary" ng-click="storno(order)">#{bundle.storno}</button>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </fieldset>
                <fieldset>
                    <legend>Materialliste</legend>
                    <table class="table table-bordered">
                        <thead>
                        <tr>
                            <th>Artikel</th>
                            <th>#{bundle.amount}</th>
                            <th>Aktion</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="product in products">
                            <td ng-bind="product.name"/>
                            <td>
                                <button class="btn btn-danger" ng-click="decAmount(product)">-</button>
                                {{product.amount}}
                                <button class="btn btn-success" ng-click="incAmount(product)">+</button>
                            </td>
                            <td>
                                <button class="btn btn-primary" ng-click="order(product)">#{bundle.order}</button>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </fieldset>
            </form>
        </ui:define>
    </ui:composition>
</h:body>
</html>